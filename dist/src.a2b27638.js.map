{"version":3,"sources":["src/index.js"],"names":["jsonQuery","fetchData","url","fetch","method","response","ok","json","data","buildChart","console","log","yyear","variables","year","area","info","yearObject","Object","values","areaObject","valueTexts","infoObject","forEach","yearData","index","wholeData","i","push","chartData","labels","dataset","chart","frappe","Chart","title","type","line","height","color"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["\r\n//import  {Chart}  from 'frappe-charts'  //dist/frappe-charts.min.esm\r\nconst jsonQuery = {\r\n    \"query\": [\r\n        {\r\n            \"code\": \"Vuosi\",\r\n            \"selection\": {\r\n                \"filter\": \"item\",\r\n                \"values\": [\r\n                    \"2000\",\r\n                    \"2001\",\r\n                    \"2002\",\r\n                    \"2003\",\r\n                    \"2004\",\r\n                    \"2005\",\r\n                    \"2006\",\r\n                    \"2007\",\r\n                    \"2008\",\r\n                    \"2009\",\r\n                    \"2010\",\r\n                    \"2011\",\r\n                    \"2012\",\r\n                    \"2013\",\r\n                    \"2014\",\r\n                    \"2015\",\r\n                    \"2016\",\r\n                    \"2017\",\r\n                    \"2018\",\r\n                    \"2019\",\r\n                    \"2020\",\r\n                    \"2021\"\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"code\": \"Alue\",\r\n            \"selection\": {\r\n                \"filter\": \"item\",\r\n                \"values\": [\r\n                    \"SSS\"\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            \"code\": \"Tiedot\",\r\n            \"selection\": {\r\n                \"filter\": \"item\",\r\n                \"values\": [\r\n                    \"vaesto\"\r\n                ]\r\n            }\r\n        }\r\n    ],\r\n    \"response\": {\r\n        \"format\": \"json-stat2\"\r\n    }\r\n}\r\nconst fetchData = async() =>{\r\n\tconst url = \"https://statfin.stat.fi/PxWeb/api/v1/en/StatFin/synt/statfin_synt_pxt_12dy.px\"\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: \"POST\"\r\n\t\t//headers: {\"content-type\": \"index/json\"},\r\n\t\t//body: JSON.stringify(jsonQuery)\r\n\t})\r\n\tif(!response.ok){\r\n\t\treturn;\r\n\t}\r\n\tconst data = await response.json()\r\n\t\r\n\treturn data\r\n}\r\n\r\nconst buildChart = async () => {\r\n\tconst data = await fetchData()\r\n\tconsole.log(data)\r\n\r\n\t//const test = data.variables\r\n\t//const year =  Object.values(data.dimension.Vuosi.category.label)\r\n\t//const area = Object.values(data.dimension.Alue.category.label)\r\n\t//const info = Object.values(data.dimension.Tiedot.category.label)\r\n\t//const population = data.value\r\n\t//console.log(test)\r\n\t//console.log(year)\r\n\t//console.log(area)\r\n\t//console.log(info)\r\n\t//console.log(population)\r\n\tconst yyear = data.variables\r\n    const year = yyear[0]\r\n    const area = yyear[1]\r\n    const info = yyear[2]\r\n\tconsole.log(yyear)\r\n    //console.log(year)\r\n    //console.log(area)\r\n    //console.log(info)\r\n\r\n    const yearObject = Object.values(year.values)\r\n    const areaObject = Object.values(area.valueTexts)\r\n    const infoObject = Object.values(info.values)\r\n    \r\n    console.log(yearObject)\r\n    console.log(areaObject)\r\n    console.log(infoObject)\r\n\r\n    yearObject.forEach((yearData, index) =>{\r\n        let wholeData = []\r\n        for(let i = 10 ; i <= 32 ; i++){\r\n            wholeData.push(yearObject[i * 310 + index])\r\n        }\r\n        yearObject[index] = {\r\n            year: yearData,\r\n            values:  areaObject,\r\n            info: infoObject\r\n        }\r\n    })\r\n    console.log(yearObject)\r\n\r\n    const chartData = {\r\n        labels: areaObject,\r\n        dataset: yearObject\r\n    }\r\n    const chart = new frappe.Chart(\"#chart\",{\r\n        title: \"country data\",\r\n        data: chartData,\r\n        type: line,\r\n        height: 450,\r\n        color: '#eb5146'\r\n    \r\n    })\r\n\r\n}\r\n\r\nbuildChart()"]}